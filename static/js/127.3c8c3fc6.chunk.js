"use strict";(self.webpackChunk_11men_frontend=self.webpackChunk_11men_frontend||[]).push([[127],{127:(e,s,n)=>{n.r(s),n.d(s,{default:()=>v});var t=n(366),r=(n(934),n(579));const i=()=>(0,r.jsxs)("div",{className:"tetris-container",children:[(0,r.jsxs)("div",{className:"tetris-header",children:[(0,r.jsx)("h1",{children:"AI \ud14c\ud2b8\ub9ac\uc2a4"}),(0,r.jsx)("p",{className:"tetris-description",children:"AI\ub85c \uc2dc\uc791\ud55c \ud14c\ud2b8\ub9ac\uc2a4 \uac8c\uc784 \ub9cc\ub4e4\uae30 \ud504\ub85c\uc81d\ud2b8\uc785\ub2c8\ub2e4. \ud604\uc7ac \ubc84\uc804\uc5d0\uc11c\ub294 \uae30\ubcf8\uc801\uc778 \ud14c\ud2b8\ub9ac\uc2a4 \uac8c\uc784\ud50c\ub808\uc774\ub97c \uad6c\ud604\ud588\uc2b5\ub2c8\ub2e4."})]}),(0,r.jsx)("div",{className:"tetris-content",children:(0,r.jsx)("iframe",{src:"/web/lab/html/tetris.html",title:"AI Tetris Game",className:"tetris-frame",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}),(0,r.jsxs)("div",{className:"tetris-info",children:[(0,r.jsx)("h2",{children:"\ud504\ub85c\uc81d\ud2b8 \uc815\ubcf4"}),(0,r.jsxs)("div",{className:"info-grid",children:[(0,r.jsxs)("div",{className:"info-item",children:[(0,r.jsx)("h3",{children:"\uac1c\ubc1c \uae30\uac04"}),(0,r.jsx)("p",{children:"2024.06.11 ~ \ud604\uc7ac"})]}),(0,r.jsxs)("div",{className:"info-item",children:[(0,r.jsx)("h3",{children:"\uc0ac\uc6a9 \uae30\uc220"}),(0,r.jsx)("p",{children:"HTML, CSS, JavaScript"})]}),(0,r.jsxs)("div",{className:"info-item",children:[(0,r.jsx)("h3",{children:"\uc8fc\uc694 \uae30\ub2a5"}),(0,r.jsxs)("ul",{children:[(0,r.jsx)("li",{children:"\uae30\ubcf8 \ud14c\ud2b8\ub9ac\uc2a4 \uac8c\uc784\ud50c\ub808\uc774"}),(0,r.jsx)("li",{children:"\uc810\uc218 \uc2dc\uc2a4\ud15c"}),(0,r.jsx)("li",{children:"\ub808\ubca8 \uc2dc\uc2a4\ud15c"})]})]}),(0,r.jsxs)("div",{className:"info-item",children:[(0,r.jsx)("h3",{children:"\ud5a5\ud6c4 \uacc4\ud68d"}),(0,r.jsxs)("ul",{children:[(0,r.jsx)("li",{children:"AI \ud559\uc2b5 \ubaa8\ub378 \ud1b5\ud569"}),(0,r.jsx)("li",{children:"\uba40\ud2f0\ud50c\ub808\uc774\uc5b4 \uc9c0\uc6d0"}),(0,r.jsx)("li",{children:"\ucee4\uc2a4\ud140 \ud14c\ub9c8"})]})]})]})]})]});var a=n(555),l=n(43);class c{constructor(e){this.playerInfo=void 0,this.ready=!1,this.playerInfo=e}getInfo(){return this.playerInfo}isReady(){return this.ready}onTurnStart(){}onTurnEnd(e){}reset(){this.ready=!1}}class o extends c{constructor(e){super(e),this.resolveGuess=void 0,this.ready=!0}async makeGuess(e){return new Promise((e=>{this.resolveGuess=e}))}submitGuess(e){this.resolveGuess&&(this.resolveGuess(e),this.resolveGuess=void 0)}isWaitingForInput(){return void 0!==this.resolveGuess}reset(){super.reset(),this.resolveGuess=void 0,this.ready=!0}}class d extends c{constructor(e,s){super(e),this.strategy=void 0,this.thinkingTime=2e3,this.strategy=s,this.ready=!0}async makeGuess(e){const s=Date.now(),n=this.strategy.selectKeywords(e),t=Date.now()-s,r=Math.max(0,this.thinkingTime-t);return r>0&&await new Promise((e=>setTimeout(e,r))),n}setThinkingTime(e){this.thinkingTime=Math.max(500,e)}getStrategy(){return this.strategy}setStrategy(e){this.strategy=e}}class h extends c{constructor(e){super(e),this.aiCode=void 0,this.aiLanguage=void 0,this.executeTimeout=5e3,this.aiCode=e.customCode||"",this.aiLanguage=e.customLanguage||"javascript",this.ready=this.validateCode()}async makeGuess(e){try{const s=await this.executeAICode(e);if(!Array.isArray(s))throw new Error("AI function must return an array of indices");const n=s.filter((s=>"number"===typeof s&&s>=0&&s<e.keywords.length&&!e.revealedWrongAnswers.includes(s)));if(n.length>e.answerCount)return n.slice(0,e.answerCount);for(;n.length<e.answerCount;){const s=Array.from({length:e.keywords.length},((e,s)=>s)).filter((s=>!n.includes(s)&&!e.revealedWrongAnswers.includes(s)));if(0===s.length)break;const t=s[Math.floor(Math.random()*s.length)];n.push(t)}return n}catch(s){return console.error("Custom AI execution error:",s),this.fallbackStrategy(e)}}async executeAICode(e){return new Promise(((s,n)=>{const t=setTimeout((()=>{n(new Error("AI code execution timeout"))}),this.executeTimeout);try{const n=new Function("gameState","\n          ".concat(this.aiCode,"\n          \n          if (typeof makeGuess === 'function') {\n            return makeGuess(gameState);\n          } else {\n            throw new Error('makeGuess function not found');\n          }\n        "))(e);clearTimeout(t),s(n)}catch(r){clearTimeout(t),n(r)}}))}fallbackStrategy(e){const s=Array.from({length:e.keywords.length},((e,s)=>s)).filter((s=>!e.revealedWrongAnswers.includes(s))),n=[...e.revealedAnswers];for(;n.length<e.answerCount&&s.length>0;){const e=s.filter((e=>!n.includes(e)));if(0===e.length)break;const t=e[Math.floor(Math.random()*e.length)];n.push(t)}return n}validateCode(){if(!this.aiCode.trim())return!1;try{return new Function("gameState",this.aiCode+'\n return typeof makeGuess === "function";'),!0}catch(e){return console.error("AI code validation error:",e),!1}}updateCode(e,s){this.aiCode=e,this.aiLanguage=s,this.ready=this.validateCode()}getCode(){return this.aiCode}getLanguage(){return this.aiLanguage}}class u{selectKeywords(e){const{keywords:s,revealedAnswers:n,revealedWrongAnswers:t,answerCount:r,previousGuesses:i,myHints:a}=e,l=new Map;for(let u=0;u<s.length;u++)l.set(u,0);i.forEach((e=>{const{guess:s,correctCount:n}=e;if(0===n)s.forEach((e=>{l.set(e,(l.get(e)||0)-5)}));else{const e=n/s.length;s.forEach((s=>{l.set(s,(l.get(s)||0)+e)}))}}));const c=new Set([...t,...a]);c.forEach((e=>{l.delete(e)}));const o=[...n],d=Array.from(l.entries()).filter((e=>{let[s]=e;return!o.includes(s)&&!c.has(s)})).sort(((e,s)=>s[1]-e[1])),h=r-o.length;if(h>0){[...d.slice(0,Math.max(2*h,10))].sort((()=>Math.random()-.5)).slice(0,h).forEach((e=>{o.push(e[0])}))}if(o.length<r){const e=d.filter((e=>!o.includes(e[0]))),s=r-o.length;e.slice(0,s).forEach((e=>{o.push(e[0])}))}return o}getStrategyName(){return"Easy AI"}getDescription(){return"\uacfc\uac70 \ucd94\uce21\uc758 \uc815\ub2f5\ub960\uc744 \uae30\ubc18\uc73c\ub85c \ud0a4\uc6cc\ub4dc \uc810\uc218\ub97c \ub9e4\uaca8 \ucd94\uce21\ud569\ub2c8\ub2e4."}}class m{selectKeywords(e){const{keywords:s,revealedAnswers:n,revealedWrongAnswers:t,answerCount:r,previousGuesses:i,myHints:a}=e,l=new Map;for(let u=0;u<s.length;u++)l.set(u,0);i.forEach((e=>{const{guess:s,correctCount:n}=e,t=n>0?n/s.length:-1;s.forEach((e=>{l.set(e,(l.get(e)||0)+t)}))}));for(let u=0;u<i.length;u++)for(let e=u+1;e<i.length;e++){const s=i[u],n=i[e],t=new Set(s.guess),r=new Set(n.guess),a=s.guess.filter((e=>!r.has(e))),c=n.guess.filter((e=>!t.has(e))),o=s.correctCount-n.correctCount;if(1===a.length&&1===c.length){const e=a[0],s=c[0];1===o?(l.set(e,(l.get(e)||0)+10),l.set(s,(l.get(s)||0)-10)):-1===o&&(l.set(s,(l.get(s)||0)+10),l.set(e,(l.get(e)||0)-10))}else if(a.length>0&&c.length>0&&Math.abs(o)>0){const e=3*(Math.abs(o)/(a.length+c.length));o>0?(a.forEach((s=>l.set(s,(l.get(s)||0)+e))),c.forEach((s=>l.set(s,(l.get(s)||0)-e)))):(c.forEach((s=>l.set(s,(l.get(s)||0)+e))),a.forEach((s=>l.set(s,(l.get(s)||0)-e))))}}const c=new Set([...t,...a,...n]);c.forEach((e=>{l.delete(e)}));const o=Array.from(l.entries()).sort(((e,s)=>s[1]-e[1])),d=[...n],h=r-d.length;if(h>0){const e=o.map((e=>e[0])).filter((e=>!d.includes(e)));d.push(...e.slice(0,h))}if(d.length<r){const e=Array.from({length:s.length},((e,s)=>s)).filter((e=>!c.has(e)&&!d.includes(e))).sort((()=>Math.random()-.5)),n=r-d.length;d.push(...e.slice(0,n))}return d}getStrategyName(){return"Medium AI"}getDescription(){return"\ucd94\uce21\ub4e4\uc744 \uc815\uad50\ud558\uac8c \ube44\uad50\ud558\uc5ec \ub17c\ub9ac\uc801\uc778 \ub2e8\uc11c\ub97c \ucc3e\uace0, \uc774\ub97c \uae30\ubc18\uc73c\ub85c \ucd94\uce21\ud569\ub2c8\ub2e4."}}class g{constructor(){this.fallbackStrategy=void 0,this.fallbackStrategy=new m}selectKeywords(e){const{keywords:s,answerCount:n,previousGuesses:t,revealedAnswers:r,revealedWrongAnswers:i,myHints:a}=e,l=this.findValidHypotheses(e);return 1===l.length?(console.log("Hard AI: \uc815\ub2f5\uc744 \ucc3e\uc558\uc2b5\ub2c8\ub2e4!",l[0]),l[0]):l.length>1?(console.log("Hard AI: ".concat(l.length,"\uac1c\uc758 \ud6c4\ubcf4\ub97c \ucc3e\uc558\uc2b5\ub2c8\ub2e4."),l),l[0]):(console.log("Hard AI: \ud6c4\ubcf4\ub97c \ucc3e\uc9c0 \ubabb\ud574 Medium \uc804\ub7b5\uc73c\ub85c \uc804\ud658\ud569\ub2c8\ub2e4."),this.fallbackStrategy.selectKeywords(e))}findValidHypotheses(e){const{keywords:s,answerCount:n,previousGuesses:t,revealedAnswers:r,revealedWrongAnswers:i,myHints:a}=e,l=Date.now(),c=new Set(r),o=new Set([...i,...a]),d=(new m).selectKeywords(e),h=Array.from(c).concat(d),u=new Set(h),g=Array.from(u).filter((e=>!o.has(e))),x=[],y=(e,s)=>{Date.now()-l>500||x.length>10||(s.length!==n?e>=g.length||(s.push(g[e]),y(e+1,s),s.pop(),g.length-(e+1)>=n-s.length&&y(e+1,s)):this.validateHypothesis(s,t)&&x.push([...s]))};return y(0,[]),x}validateHypothesis(e,s){const n=new Set(e);for(const t of s){if(t.guess.filter((e=>n.has(e))).length!==t.correctCount)return!1}return!0}getStrategyName(){return"Hard AI"}getDescription(){return"\uacfc\uac70\uc758 \ubaa8\ub4e0 \ucd94\uce21\uc744 \ub17c\ub9ac\uc801 \uc81c\uc57d\uc870\uac74\uc73c\ub85c \uc0ac\uc6a9\ud558\uc5ec, \uc774\ub97c \ub9cc\uc871\ud558\ub294 \uc815\ub2f5 \ud6c4\ubcf4\ub97c \ucc3e\uc544\ub0c5\ub2c8\ub2e4."}}class x{static createPlayer(e){switch(e.type){case"human":return new o(e);case"built-in-ai":const s=this.getStrategy(e.aiDifficulty||"medium");return new d(e,s);case"custom-ai":return new h(e);default:throw new Error("Unknown player type: ".concat(e.type))}}static getStrategy(e){if(!this.strategyCache.has(e)){let s;switch(e){case"easy":s=new u;break;case"medium":default:s=new m;break;case"hard":s=new g}this.strategyCache.set(e,s)}return this.strategyCache.get(e)}static createBuiltInAIOpponent(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"medium";const n={id:e,nickname:"AI (".concat("easy"===s?"\uc26c\uc6c0":"medium"===s?"\ubcf4\ud1b5":"\uc5b4\ub824\uc6c0",")"),type:"built-in-ai",aiDifficulty:s};return this.createPlayer(n)}static isHumanPlayer(e){return e instanceof o}static isBuiltInAIPlayer(e){return e instanceof d}static isCustomAIPlayer(e){return e instanceof h}}x.strategyCache=new Map;class y{constructor(e){this.players=[],this.currentPlayerIndex=0,this.gameContext=void 0,this.config=void 0,this.isGameRunning=!1,this.turnTimer=void 0,this.turnStartTime=0,this.onTurnStart=void 0,this.onTurnEnd=void 0,this.onGameEnd=void 0,this.onTimerTick=void 0,this.config=e,this.gameContext={keywords:[],answers:[],playerHints:{},currentTurn:0,turnHistory:[],revealedAnswers:[],revealedWrongAnswers:[]}}addPlayer(e){if(this.isGameRunning)throw new Error("Cannot add players while game is running");this.players.push(e)}setPlayers(e){if(this.isGameRunning)throw new Error("Cannot set players while game is running");this.players=e}getCurrentPlayer(){return this.isGameRunning&&0!==this.players.length?this.players[this.currentPlayerIndex]:null}getPlayers(){return[...this.players]}getGameContext(){return(0,a.A)({},this.gameContext)}async startGame(e,s,n){if(0===this.players.length)throw new Error("No players added to the game");this.gameContext={keywords:e,answers:s,playerHints:n,currentTurn:1,turnHistory:[],revealedAnswers:[],revealedWrongAnswers:[]},this.currentPlayerIndex=0,this.isGameRunning=!0,await this.startNextTurn()}async startNextTurn(){var e;if(!this.isGameRunning)return;const s=this.getCurrentPlayer();if(s)if(this.turnStartTime=Date.now(),this.onTurnStart&&this.onTurnStart(s),null===(e=s.onTurnStart)||void 0===e||e.call(s),x.isHumanPlayer(s)){this.startTurnTimer();const e=this.createGameStateForAI(s);s.makeGuess(e).then((e=>{this.processTurn(e)}))}else{const e=this.createGameStateForAI(s),n=await s.makeGuess(e);await this.processTurn(n)}}startTurnTimer(){let e=this.config.timeLimit;this.onTimerTick&&this.onTimerTick(e),this.turnTimer=setInterval((()=>{e--,this.onTimerTick&&this.onTimerTick(e),e<=0&&this.handleTimeout()}),1e3)}stopTurnTimer(){this.turnTimer&&(clearInterval(this.turnTimer),this.turnTimer=void 0)}handleTimeout(){this.stopTurnTimer();const e=this.getCurrentPlayer();if(!e)return;const s=[...Array.from({length:this.gameContext.keywords.length},((e,s)=>s)).filter((e=>!this.gameContext.revealedWrongAnswers.includes(e)))].sort((()=>Math.random()-.5)).slice(0,this.config.answerCount);x.isHumanPlayer(e)?e.submitGuess(s):this.processTurn(s)}async submitHumanGuess(e){const s=this.getCurrentPlayer();if(!s||!x.isHumanPlayer(s))throw new Error("Current player is not a human player");this.stopTurnTimer(),s.submitGuess(e)}async processTurn(e){var s;const n=this.getCurrentPlayer();if(!n)return;const t=e.filter((e=>this.gameContext.answers.includes(e))).length,r=t===this.config.answerCount&&e.every((e=>this.gameContext.answers.includes(e))),i=Math.round((Date.now()-this.turnStartTime)/1e3),a={playerId:n.getInfo().id,playerName:n.getInfo().nickname,guess:[...e],guessKeywords:e.map((e=>this.gameContext.keywords[e])),correctCount:t,turnNumber:this.gameContext.currentTurn,timeUsed:i};this.gameContext.turnHistory.push(a),null===(s=n.onTurnEnd)||void 0===s||s.call(n,{selectedIndices:e,timeUsed:a.timeUsed,timestamp:Date.now()}),this.onTurnEnd&&this.onTurnEnd(a),r?this.endGame(n):this.config.maxTurns&&this.gameContext.currentTurn>=this.config.maxTurns?this.endGame():(this.gameContext.currentTurn++,this.currentPlayerIndex=(this.currentPlayerIndex+1)%this.players.length,await this.startNextTurn())}createGameStateForAI(e){const s=e.getInfo(),n=this.gameContext.playerHints[s.id]||[],t=this.gameContext.turnHistory.map((e=>({playerId:e.playerId,guess:e.guess,correctCount:e.correctCount})));return{keywords:[...this.gameContext.keywords],myHints:n,previousGuesses:t,revealedAnswers:[...this.gameContext.revealedAnswers],revealedWrongAnswers:[...this.gameContext.revealedWrongAnswers],answerCount:this.config.answerCount,currentTurn:this.gameContext.currentTurn,maxTurns:this.config.maxTurns,timeLimit:this.config.timeLimit}}revealAnswer(){const e=this.gameContext.answers.filter((e=>!this.gameContext.revealedAnswers.includes(e)));if(0===e.length)return!1;const s=e[Math.floor(Math.random()*e.length)];return this.gameContext.revealedAnswers.push(s),!0}revealWrongAnswer(){const e=Array.from({length:this.gameContext.keywords.length},((e,s)=>s)).filter((e=>!this.gameContext.answers.includes(e)&&!this.gameContext.revealedWrongAnswers.includes(e)));if(0===e.length)return!1;const s=e[Math.floor(Math.random()*e.length)];return this.gameContext.revealedWrongAnswers.push(s),!0}endGame(e){this.stopTurnTimer(),this.isGameRunning=!1,this.onGameEnd&&this.onGameEnd(e)}stopGame(){this.stopTurnTimer(),this.isGameRunning=!1,this.players.forEach((e=>e.reset()))}isRunning(){return this.isGameRunning}setEventHandlers(e){this.onTurnStart=e.onTurnStart,this.onTurnEnd=e.onTurnEnd,this.onGameEnd=e.onGameEnd,this.onTimerTick=e.onTimerTick}}const p=()=>{const[e,s]=(0,l.useState)("mode-selection"),[n,t]=(0,l.useState)("solo"),[i,c]=(0,l.useState)(2),[o,d]=(0,l.useState)([]),[h,u]=(0,l.useState)({keywordPoolSize:50,answerCount:5,hintCount:5,timeLimit:60,maxTurns:20,difficulty:"intermediate"}),[m,g]=(0,l.useState)({keywords:[],answers:[],playerHints:{},isReady:!1,currentTurn:0,turnHistory:[],gameStatus:"playing",revealedAnswers:[],revealedWrongAnswers:[],hintsViewed:{}}),[p,v]=(0,l.useState)(0),[j,w]=(0,l.useState)([]),[f,b]=(0,l.useState)(0),[N,C]=(0,l.useState)(!1),[k,A]=(0,l.useState)(!1),[T,I]=(0,l.useState)(0),[S,G]=(0,l.useState)(null),[H,M]=(0,l.useState)(!1),[P,E]=(0,l.useState)(null),[L,W]=(0,l.useState)("medium"),[D,F]=(0,l.useState)(!1),R=(0,l.useRef)(null),[z,K]=(0,l.useState)(0),[O,V]=(0,l.useState)({isOpen:!1,playerId:null}),U=e=>{t(e),"solo"===e?s("difficulty-selection"):(d([]),s("player-setup"))},_=e=>{W(e),c(2),d([{id:1,nickname:"",type:"human",aiLanguage:"javascript"},{id:2,nickname:"AI (".concat("easy"===e?"\uc26c\uc6c0":"medium"===e?"\ubcf4\ud1b5":"\uc5b4\ub824\uc6c0",")"),type:"built-in-ai",aiDifficulty:e}]),s("player-setup")},J=(e,s)=>{d((n=>n.map((n=>n.id===e?(0,a.A)((0,a.A)({},n),s):n))))},B=()=>{console.log("Moving to game config with players:",o),s("game-config")},q=()=>{console.log("Game config complete:",h),v(0),s("game-preparation"),X()},Q={animals:["\uc0ac\uc790","\ud638\ub791\uc774","\ucf54\ub07c\ub9ac","\uae30\ub9b0","\uc6d0\uc22d\uc774","\ucf54\uc54c\ub77c","\ud310\ub2e4","\ud3ad\uadc4","\ub3c5\uc218\ub9ac","\uc0c1\uc5b4","\uace0\ub798","\ub3cc\uace0\ub798","\ud1a0\ub07c","\uace0\uc591\uc774","\uac15\uc544\uc9c0","\ub9d0","\uc18c","\ub3fc\uc9c0","\uc591","\uc5fc\uc18c"],foods:["\ud53c\uc790","\ud584\ubc84\uac70","\uc2a4\ud30c\uac8c\ud2f0","\ucd08\ubc25","\uae40\uce58\ucc0c\uac1c","\ubd88\uace0\uae30","\uce58\ud0a8","\ub77c\uba74","\ub5a1\ubcf6\uc774","\uae40\ubc25","\uc0d0\ub7ec\ub4dc","\uc2a4\ud14c\uc774\ud06c","\uce74\ub808","\uc6b0\ub3d9","\ub0c9\uba74","\ube44\ube54\ubc25","\uac08\ube44","\uc0bc\uacb9\uc0b4","\ud68c","\uc871\ubc1c"],objects:["\ucef4\ud4e8\ud130","\uc2a4\ub9c8\ud2b8\ud3f0","\uc790\ub3d9\ucc28","\ube44\ud589\uae30","\uae30\ucc28","\uc790\uc804\uac70","\ucc45","\uc5f0\ud544","\uac00\ubc29","\uc2dc\uacc4","\uc548\uacbd","\ubaa8\uc790","\uc2e0\ubc1c","\uc637","\uce68\ub300","\uc758\uc790","\ucc45\uc0c1","\ub0c9\uc7a5\uace0","\uc138\ud0c1\uae30","\ud154\ub808\ube44\uc804"],places:["\ud559\uad50","\ubcd1\uc6d0","\uc740\ud589","\uce74\ud398","\uc2dd\ub2f9","\uacf5\uc6d0","\ud574\ubcc0","\uc0b0","\ub3c4\uc11c\uad00","\ubc15\ubb3c\uad00","\uc601\ud654\uad00","\uc1fc\ud551\ubab0","\uc2dc\uc7a5","\uad50\ud68c","\uc9c0\ud558\ucca0\uc5ed","\uacf5\ud56d","\ud638\ud154","\uc9d1","\ud68c\uc0ac","\uccb4\uc721\uad00"],actions:["\uac77\uae30","\ub6f0\uae30","\uc218\uc601","\ucda4\ucd94\uae30","\ub178\ub798\ud558\uae30","\uc694\ub9ac\ud558\uae30","\uacf5\ubd80\ud558\uae30","\uc6b4\uc804\ud558\uae30","\uadf8\ub9bc\uadf8\ub9ac\uae30","\uae00\uc4f0\uae30","\uc77d\uae30","\uc7a0\uc790\uae30","\uba39\uae30","\ub9c8\uc2dc\uae30","\uc6c3\uae30","\uc6b8\uae30","\uc0dd\uac01\ud558\uae30","\ub9d0\ud558\uae30","\ub4e3\uae30","\ubcf4\uae30"]},X=async()=>{v(1),await new Promise((e=>setTimeout(e,1e3)));const e=(s=h.keywordPoolSize,[...Object.values(Q).flat()].sort((()=>Math.random()-.5)).slice(0,s));var s;v(2),await new Promise((e=>setTimeout(e,1e3)));const n=[],t=Array.from({length:e.length},((e,s)=>s)).sort((()=>Math.random()-.5));for(let a=0;a<h.answerCount;a++)n.push(t[a]);v(3),await new Promise((e=>setTimeout(e,1e3)));const r={},i=t.filter((e=>!n.includes(e)));o.forEach((e=>{const s=[],n=[...i].sort((()=>Math.random()-.5));for(let t=0;t<h.hintCount&&t<n.length;t++)s.push(n[t]);r[e.id]=s})),v(4),await new Promise((e=>setTimeout(e,1e3))),g({keywords:e,answers:n,playerHints:r,isReady:!0,currentTurn:0,turnHistory:[],gameStatus:"playing",revealedAnswers:[],revealedWrongAnswers:[],hintsViewed:{}}),v(5)},Y=()=>{const e=new y({keywordPoolSize:h.keywordPoolSize,answerCount:h.answerCount,hintCount:h.hintCount,timeLimit:h.timeLimit,maxTurns:h.maxTurns}),n=o.map((e=>{const s={id:e.id,nickname:e.nickname,type:e.type,aiDifficulty:e.aiDifficulty,customCode:e.aiCode,customLanguage:e.aiLanguage};return x.createPlayer(s)}));e.setPlayers(n),e.setEventHandlers({onTurnStart:s=>{const n=s.getInfo();"built-in-ai"===n.type&&F(!0),C("human"===n.type),K(Date.now());const t=e.getGameContext();g((e=>(0,a.A)((0,a.A)({},e),{},{currentTurn:t.currentTurn})))},onTurnEnd:e=>{F(!1),g((s=>(0,a.A)((0,a.A)({},s),{},{turnHistory:[...s.turnHistory,e]})))},onGameEnd:e=>{if(e){const s=e.getInfo();g((e=>(0,a.A)((0,a.A)({},e),{},{gameStatus:"finished",winner:s.id})))}else g((e=>(0,a.A)((0,a.A)({},e),{},{gameStatus:"finished"})))},onTimerTick:e=>{b(e)}}),R.current=e,A(!0),I(1),s("game")},Z=()=>{if(R.current)return;$(),K(Date.now()),b(h.timeLimit);const e=setInterval((()=>{b((s=>s<=1?(clearInterval(e),G(null),setTimeout((()=>{ee()}),0),0):s-1))}),1e3);G(e)},$=()=>{S&&(clearInterval(S),G(null))},ee=()=>{const e=[...m.keywords.map(((e,s)=>s)).filter((e=>!m.revealedWrongAnswers.includes(e)))].sort((()=>Math.random()-.5)).slice(0,h.answerCount);w(e),setTimeout((()=>{ie(e)}),500)},se=()=>{$(),P&&(clearTimeout(P),E(null)),R.current&&(R.current.stopGame(),R.current=null),s("mode-selection"),g({keywords:[],answers:[],playerHints:{},isReady:!1,currentTurn:0,turnHistory:[],gameStatus:"playing",revealedAnswers:[],revealedWrongAnswers:[],hintsViewed:{}}),w([]),b(0),C(!1),F(!1),A(!1),I(0),M(!1)},ne=()=>{if(R.current){if(R.current.revealAnswer()){const e=R.current.getGameContext();g((s=>(0,a.A)((0,a.A)({},s),{},{revealedAnswers:e.revealedAnswers})))}}else{const e=m.answers.filter((e=>!m.revealedAnswers.includes(e)));if(e.length>0){const s=e[Math.floor(Math.random()*e.length)];g((e=>(0,a.A)((0,a.A)({},e),{},{revealedAnswers:[...e.revealedAnswers,s]})))}}},te=()=>{if(R.current){if(R.current.revealWrongAnswer()){const e=R.current.getGameContext();g((s=>(0,a.A)((0,a.A)({},s),{},{revealedWrongAnswers:e.revealedWrongAnswers})))}}else{const e=m.keywords.map(((e,s)=>s)).filter((e=>!m.answers.includes(e)&&!m.revealedWrongAnswers.includes(e)));if(e.length>0){const s=e[Math.floor(Math.random()*e.length)];g((e=>(0,a.A)((0,a.A)({},e),{},{revealedWrongAnswers:[...e.revealedWrongAnswers,s]})))}}},re=async()=>{if(j.length===h.answerCount&&!H)if(R.current){M(!0);try{await R.current.submitHumanGuess(j),w([])}catch(e){console.error("Failed to submit guess:",e)}finally{M(!1)}}else ie(j)},ie=e=>{if(R.current)return;if(H)return;M(!0),$();const s=e.filter((e=>m.answers.includes(e))).length,n=s===h.answerCount&&e.every((e=>m.answers.includes(e))),t=(m.currentTurn-1)%o.length+1,r=o.find((e=>e.id===t)),i=z?Math.round((Date.now()-z)/1e3):h.timeLimit-f,l={playerId:t,playerName:(null===r||void 0===r?void 0:r.nickname)||"\ud50c\ub808\uc774\uc5b4 ".concat(t),guess:[...e],guessKeywords:e.map((e=>m.keywords[e])),correctCount:s,turnNumber:m.currentTurn,timeUsed:i},c=h.maxTurns&&m.currentTurn>=h.maxTurns;g((e=>(0,a.A)((0,a.A)({},e),{},{turnHistory:[...e.turnHistory,l],currentTurn:e.currentTurn+1,gameStatus:n||c?"finished":"playing",winner:n?t:void 0}))),w([]),n||c||setTimeout((()=>{Z()}),100),setTimeout((()=>{M(!1)}),500)},ae={beginner:{keywordPoolSize:30,answerCount:3,hintCount:5,timeLimit:90,maxTurns:15},intermediate:{keywordPoolSize:50,answerCount:5,hintCount:5,timeLimit:60,maxTurns:20},advanced:{keywordPoolSize:80,answerCount:7,hintCount:4,timeLimit:45,maxTurns:25}},le=e=>{const s=ae[e];u((0,a.A)((0,a.A)({},s),{},{difficulty:e}))},ce=e=>{u((s=>(0,a.A)((0,a.A)((0,a.A)({},s),e),{},{difficulty:"custom"})))};(0,l.useEffect)((()=>()=>{$(),P&&clearTimeout(P)}),[]);return(0,r.jsx)("div",{className:"deduction-game",children:(0,r.jsxs)("div",{className:"game-content",children:[(0,r.jsxs)("div",{className:"game-wrapper",children:[(0,r.jsxs)("div",{className:"game-header",children:[(0,r.jsx)("h1",{children:"Exclusive Deduction Game"}),(0,r.jsx)("p",{children:"\uc11c\ub85c \ub2e4\ub978 \ub2e8\uc11c\ub85c \uc815\ub2f5\uc744 \ucd94\ub860\ud558\ub294 \uac8c\uc784"})]}),"mode-selection"===e&&(0,r.jsxs)("div",{className:"game-screen mode-selection",children:[(0,r.jsx)("h2",{children:"\uac8c\uc784 \ubaa8\ub4dc\ub97c \uc120\ud0dd\ud558\uc138\uc694"}),(0,r.jsxs)("div",{className:"mode-cards",children:[(0,r.jsxs)("div",{className:"mode-card",onClick:()=>U("solo"),children:[(0,r.jsx)("h3",{children:"\uac1c\uc778\uc804"}),(0,r.jsxs)("p",{children:["AI\uc640 1:1 \ub300\uacb0\ud558\ub294 \ubaa8\ub4dc\uc785\ub2c8\ub2e4.",(0,r.jsx)("br",{}),"\ub09c\uc774\ub3c4\ub97c \uc120\ud0dd\ud560 \uc218 \uc788\uc5b4\uc694."]})]}),(0,r.jsxs)("div",{className:"mode-card",onClick:()=>U("multi"),children:[(0,r.jsx)("h3",{children:"\uba40\ud2f0\ud50c\ub808\uc774"}),(0,r.jsxs)("p",{children:["2~6\uba85\uc774 \ud568\uaed8 \ud50c\ub808\uc774\ud558\ub294 \ubaa8\ub4dc\uc785\ub2c8\ub2e4.",(0,r.jsx)("br",{}),"\uce5c\uad6c\ub4e4\uacfc \ud568\uaed8 \uc990\uaca8\ubcf4\uc138\uc694."]})]})]})]}),"difficulty-selection"===e&&(0,r.jsxs)("div",{className:"game-screen difficulty-selection",children:[(0,r.jsx)("div",{className:"setup-actions",children:(0,r.jsx)("button",{className:"btn-large btn-secondary",onClick:()=>s("mode-selection"),children:"\u2190 \ub4a4\ub85c\uac00\uae30"})}),(0,r.jsx)("h2",{children:"AI \ub09c\uc774\ub3c4\ub97c \uc120\ud0dd\ud558\uc138\uc694"}),(0,r.jsxs)("div",{className:"difficulty-cards",children:[(0,r.jsxs)("div",{className:"difficulty-card",onClick:()=>_("easy"),children:[(0,r.jsx)("h3",{children:"\ud83c\udf31 \uc26c\uc6c0"}),(0,r.jsxs)("p",{children:["AI\uac00 \ubb34\uc791\uc704\ub85c \ud0a4\uc6cc\ub4dc\ub97c \uc120\ud0dd\ud569\ub2c8\ub2e4.",(0,r.jsx)("br",{}),"\ud3b8\uc548\ud558\uac8c \uac8c\uc784\uc744 \uc990\uae30\uc138\uc694."]})]}),(0,r.jsxs)("div",{className:"difficulty-card",onClick:()=>_("medium"),children:[(0,r.jsx)("h3",{children:"\ud83c\udf3f \ubcf4\ud1b5"}),(0,r.jsxs)("p",{children:["AI\uac00 \uacf5\uac1c\ub41c \uc815\ub2f5\uc744 \ud65c\uc6a9\ud569\ub2c8\ub2e4.",(0,r.jsx)("br",{}),"\uc801\ub2f9\ud55c \ub3c4\uc804\uc744 \uc6d0\ud55c\ub2e4\uba74 \uc120\ud0dd\ud558\uc138\uc694."]})]}),(0,r.jsxs)("div",{className:"difficulty-card",onClick:()=>_("hard"),children:[(0,r.jsx)("h3",{children:"\ud83c\udf33 \uc5b4\ub824\uc6c0"}),(0,r.jsxs)("p",{children:["AI\uac00 \uc774\uc804 \ucd94\uce21\uc744 \ubd84\uc11d\ud569\ub2c8\ub2e4.",(0,r.jsx)("br",{}),"\uc9c4\uc815\ud55c \uc2e4\ub825\uc744 \uc2dc\ud5d8\ud574\ubcf4\uc138\uc694."]})]})]})]}),"player-setup"===e&&(0,r.jsxs)("div",{className:"game-screen",children:[(0,r.jsx)("div",{className:"setup-actions",children:(0,r.jsx)("button",{className:"btn-large btn-secondary",onClick:()=>s("mode-selection"),children:"\u2190 \ub4a4\ub85c\uac00\uae30"})}),"multi"===n&&0===o.length&&(0,r.jsxs)("div",{className:"form-section",children:[(0,r.jsx)("h2",{children:"\ud50c\ub808\uc774\uc5b4 \uc218\ub97c \uc120\ud0dd\ud558\uc138\uc694"}),(0,r.jsx)("div",{className:"btn-group",style:{justifyContent:"center",marginTop:"20px"},children:[2,3,4,5,6].map((e=>(0,r.jsxs)("button",{className:"btn-large btn-secondary",onClick:()=>(e=>{c(e);const s=[];for(let n=1;n<=e;n++)s.push({id:n,nickname:"",type:"human",aiLanguage:"javascript"});d(s)})(e),children:[e,"\uba85"]},e)))})]}),o.length>0&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h2",{children:"solo"===n?"\ud50c\ub808\uc774\uc5b4 \uc124\uc815":"".concat(i,"\uba85 \ud50c\ub808\uc774\uc5b4 \uc124\uc815")}),(0,r.jsx)("div",{className:"players-grid",children:o.filter((e=>"solo"!==n||"human"===e.type)).map((e=>(0,r.jsxs)("div",{className:"player-setup",children:[(0,r.jsx)("h4",{children:"solo"===n?"\ud50c\ub808\uc774\uc5b4":"\ud50c\ub808\uc774\uc5b4 ".concat(e.id)}),(0,r.jsx)("div",{className:"form-section",children:(0,r.jsx)("input",{type:"text",className:"input-field",placeholder:"\ub2c9\ub124\uc784\uc744 \uc785\ub825\ud558\uc138\uc694",value:e.nickname,onChange:s=>J(e.id,{nickname:s.target.value}),maxLength:20})}),"multi"===n&&(0,r.jsx)("div",{className:"form-section",children:(0,r.jsxs)("div",{className:"radio-group",children:[(0,r.jsxs)("div",{className:"radio-option",children:[(0,r.jsx)("input",{type:"radio",id:"human-".concat(e.id),name:"playerType-".concat(e.id),value:"human",checked:"human"===e.type,onChange:()=>J(e.id,{type:"human",aiCode:""})}),(0,r.jsx)("label",{htmlFor:"human-".concat(e.id),children:"\uc778\uac04"})]}),(0,r.jsxs)("div",{className:"radio-option",children:[(0,r.jsx)("input",{type:"radio",id:"ai-".concat(e.id),name:"playerType-".concat(e.id),value:"custom-ai",checked:"custom-ai"===e.type,onChange:()=>{J(e.id,{type:"custom-ai"}),V({isOpen:!0,playerId:e.id})}}),(0,r.jsx)("label",{htmlFor:"ai-".concat(e.id),children:"AI"})]})]})}),"custom-ai"===e.type&&(0,r.jsxs)("div",{className:"form-section",children:[(0,r.jsxs)("button",{className:"btn-large btn-ai-code",onClick:()=>V({isOpen:!0,playerId:e.id}),style:{width:"100%"},children:[(0,r.jsx)("span",{className:"btn-ai-icon",children:"</>"}),(0,r.jsx)("span",{children:e.aiCode?"AI \ucf54\ub4dc \uc218\uc815":"AI \ucf54\ub4dc \uc791\uc131"})]}),e.aiCode&&(0,r.jsx)("div",{className:"code-preview",children:(0,r.jsxs)("small",{children:["\ucf54\ub4dc\uac00 \uc791\uc131\ub418\uc5c8\uc2b5\ub2c8\ub2e4 (",e.aiCode.split("\n").length,"\uc904)"]})})]})]},e.id)))}),(0,r.jsx)("div",{className:"setup-actions",children:(0,r.jsx)("button",{className:"btn-large btn-primary",onClick:B,disabled:!o.every((e=>{var s;return!!e.nickname.trim()&&!!("custom-ai"!==e.type||null!==(s=e.aiCode)&&void 0!==s&&s.trim())})),children:"\uac8c\uc784 \uc2dc\uc791"})})]})]}),"game-config"===e&&(0,r.jsxs)("div",{className:"game-screen",children:[(0,r.jsx)("div",{className:"setup-actions",style:{justifyContent:"flex-start",marginBottom:"30px"},children:(0,r.jsx)("button",{className:"btn-large btn-secondary",onClick:()=>s("player-setup"),children:"\u2190 \ub4a4\ub85c\uac00\uae30"})}),(0,r.jsx)("h2",{children:"\uac8c\uc784 \uc124\uc815"}),(0,r.jsxs)("div",{className:"form-section",children:[(0,r.jsx)("h3",{children:"\ub09c\uc774\ub3c4 \ud504\ub9ac\uc14b"}),(0,r.jsxs)("div",{className:"btn-group",style:{justifyContent:"center",flexWrap:"wrap"},children:[(0,r.jsx)("button",{className:"btn-large ".concat("beginner"===h.difficulty?"btn-primary":"btn-secondary"),onClick:()=>le("beginner"),children:"\ucd08\uae09"}),(0,r.jsx)("button",{className:"btn-large ".concat("intermediate"===h.difficulty?"btn-primary":"btn-secondary"),onClick:()=>le("intermediate"),children:"\uc911\uae09"}),(0,r.jsx)("button",{className:"btn-large ".concat("advanced"===h.difficulty?"btn-primary":"btn-secondary"),onClick:()=>le("advanced"),children:"\uace0\uae09"})]})]}),(0,r.jsxs)("div",{className:"config-grid",children:[(0,r.jsxs)("div",{className:"config-item",children:[(0,r.jsx)("h4",{children:"\ud0a4\uc6cc\ub4dc \ud480 \ud06c\uae30"}),(0,r.jsx)("p",{children:"\uc804\uccb4 \ud0a4\uc6cc\ub4dc \uac1c\uc218"}),(0,r.jsxs)("div",{className:"number-input-group",children:[(0,r.jsx)("button",{className:"btn btn-small",onClick:()=>ce({keywordPoolSize:Math.max(20,h.keywordPoolSize-10)}),children:"-"}),(0,r.jsxs)("span",{className:"number-display",children:[h.keywordPoolSize,"\uac1c"]}),(0,r.jsx)("button",{className:"btn btn-small",onClick:()=>ce({keywordPoolSize:Math.min(100,h.keywordPoolSize+10)}),children:"+"})]})]}),(0,r.jsxs)("div",{className:"config-item",children:[(0,r.jsx)("h4",{children:"\uc815\ub2f5 \uac1c\uc218"}),(0,r.jsx)("p",{children:"\ucc3e\uc544\uc57c \ud560 \uc815\ub2f5 \uc218"}),(0,r.jsxs)("div",{className:"number-input-group",children:[(0,r.jsx)("button",{className:"btn btn-small",onClick:()=>ce({answerCount:Math.max(2,h.answerCount-1)}),children:"-"}),(0,r.jsxs)("span",{className:"number-display",children:[h.answerCount,"\uac1c"]}),(0,r.jsx)("button",{className:"btn btn-small",onClick:()=>ce({answerCount:Math.min(15,h.answerCount+1)}),children:"+"})]})]}),(0,r.jsxs)("div",{className:"config-item",children:[(0,r.jsx)("h4",{children:"\ud78c\ud2b8 \uac1c\uc218"}),(0,r.jsx)("p",{children:"\uac01 \ud50c\ub808\uc774\uc5b4\ubcc4 \uc624\ub2f5 \ud78c\ud2b8"}),(0,r.jsxs)("div",{className:"number-input-group",children:[(0,r.jsx)("button",{className:"btn btn-small",onClick:()=>ce({hintCount:Math.max(2,h.hintCount-1)}),children:"-"}),(0,r.jsxs)("span",{className:"number-display",children:[h.hintCount,"\uac1c"]}),(0,r.jsx)("button",{className:"btn btn-small",onClick:()=>ce({hintCount:Math.min(20,h.hintCount+1)}),children:"+"})]})]}),(0,r.jsxs)("div",{className:"config-item",children:[(0,r.jsx)("h4",{children:"\ud134 \uc81c\ud55c\uc2dc\uac04"}),(0,r.jsx)("p",{children:"\uac01 \ud134\ub2f9 \uc2dc\uac04"}),(0,r.jsxs)("div",{className:"number-input-group",children:[(0,r.jsx)("button",{className:"btn btn-small",onClick:()=>ce({timeLimit:Math.max(15,h.timeLimit-15)}),children:"-"}),(0,r.jsxs)("span",{className:"number-display",children:[h.timeLimit,"\ucd08"]}),(0,r.jsx)("button",{className:"btn btn-small",onClick:()=>ce({timeLimit:Math.min(180,h.timeLimit+15)}),children:"+"})]})]}),(0,r.jsxs)("div",{className:"config-item",children:[(0,r.jsx)("h4",{children:"\ucd5c\ub300 \ud134 \uc218"}),(0,r.jsx)("p",{children:"\uac8c\uc784 \uc885\ub8cc \uc870\uac74"}),(0,r.jsxs)("div",{className:"number-input-group",children:[(0,r.jsx)("button",{className:"btn btn-small",onClick:()=>ce({maxTurns:h.maxTurns?Math.max(5,h.maxTurns-5):15}),children:"-"}),(0,r.jsx)("span",{className:"number-display",children:h.maxTurns?"".concat(h.maxTurns,"\ud134"):"\ubb34\uc81c\ud55c"}),(0,r.jsx)("button",{className:"btn btn-small",onClick:()=>ce({maxTurns:h.maxTurns?Math.min(50,h.maxTurns+5):20}),children:"+"})]}),(0,r.jsx)("button",{className:"btn btn-small",onClick:()=>ce({maxTurns:h.maxTurns?void 0:20}),style:{marginTop:"10px"},children:h.maxTurns?"\ubb34\uc81c\ud55c\uc73c\ub85c \ubcc0\uacbd":"\uc81c\ud55c \uc124\uc815"})]})]}),(0,r.jsx)("div",{className:"difficulty-indicator",children:(0,r.jsxs)("span",{children:["\ud604\uc7ac \ub09c\uc774\ub3c4: ",(0,r.jsx)("strong",{children:"beginner"===h.difficulty?"\ucd08\uae09":"intermediate"===h.difficulty?"\uc911\uae09":"advanced"===h.difficulty?"\uace0\uae09":"\ucee4\uc2a4\ud140"})]})}),(0,r.jsx)("div",{className:"setup-actions",children:(0,r.jsx)("button",{className:"btn-large btn-primary",onClick:q,children:"\uc124\uc815 \uc644\ub8cc"})})]}),"game-preparation"===e&&(()=>{const e=[{title:"\uac8c\uc784 \ucd08\uae30\ud654",description:"\uac8c\uc784 \ud658\uacbd\uc744 \uc124\uc815\ud558\uace0 \uc788\uc2b5\ub2c8\ub2e4."},{title:"\ud0a4\uc6cc\ub4dc \uc0dd\uc131",description:"".concat(h.keywordPoolSize,"\uac1c\uc758 \ud0a4\uc6cc\ub4dc\ub97c \uc0dd\uc131\ud558\uace0 \uc788\uc2b5\ub2c8\ub2e4.")},{title:"\uc815\ub2f5 \uc120\ud0dd",description:"".concat(h.answerCount,"\uac1c\uc758 \uc815\ub2f5\uc744 \ubb34\uc791\uc704\ub85c \uc120\ud0dd\ud558\uace0 \uc788\uc2b5\ub2c8\ub2e4.")},{title:"\ud78c\ud2b8 \ubc30\ud3ec",description:"\uac01 \ud50c\ub808\uc774\uc5b4\uc5d0\uac8c \uc624\ub2f5 \ud78c\ud2b8\ub97c \ubc30\ud3ec\ud558\uace0 \uc788\uc2b5\ub2c8\ub2e4."},{title:"\ucd5c\uc885 \ud655\uc778",description:"\uac8c\uc784 \uc900\ube44\ub97c \uc644\ub8cc\ud558\uace0 \uc788\uc2b5\ub2c8\ub2e4."}];return(0,r.jsx)("div",{className:"game-screen",children:p<5?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h2",{children:"\uac8c\uc784 \uc900\ube44 \uc911..."}),(0,r.jsxs)("div",{className:"preparation-progress",children:[(0,r.jsx)("div",{className:"progress-steps",children:e.map(((e,s)=>(0,r.jsxs)("div",{className:"progress-step ".concat(s<p?"completed":s===p?"active":"pending"),children:[(0,r.jsx)("div",{className:"step-circle",children:s<p?"\u2713":s+1}),(0,r.jsxs)("div",{className:"step-content",children:[(0,r.jsx)("h4",{children:e.title}),(0,r.jsx)("p",{children:e.description})]})]},s)))}),(0,r.jsx)("div",{className:"progress-bar-container",children:(0,r.jsx)("div",{className:"progress-bar-fill",style:{width:"".concat(p/5*100,"%")}})})]})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h2",{children:"\uac8c\uc784 \uc900\ube44 \uc644\ub8cc!"}),(0,r.jsxs)("div",{className:"game-summary",children:[(0,r.jsxs)("div",{className:"summary-grid",children:[(0,r.jsxs)("div",{className:"summary-item",children:[(0,r.jsx)("h4",{children:"\ucc38\uac00\uc790"}),(0,r.jsx)("div",{className:"player-chips",children:o.map((e=>(0,r.jsxs)("span",{className:"player-chip",children:[e.nickname," (","built-in-ai"===e.type?"AI":"custom-ai"===e.type?"Custom AI":"\uc778\uac04",")"]},e.id)))})]}),(0,r.jsxs)("div",{className:"summary-item",children:[(0,r.jsx)("h4",{children:"\uac8c\uc784 \uc815\ubcf4"}),(0,r.jsxs)("div",{className:"game-info-grid",children:[(0,r.jsxs)("div",{children:["\ud0a4\uc6cc\ub4dc \ud480: ",(0,r.jsxs)("strong",{children:[h.keywordPoolSize,"\uac1c"]})]}),(0,r.jsxs)("div",{children:["\uc815\ub2f5 \uac1c\uc218: ",(0,r.jsxs)("strong",{children:[h.answerCount,"\uac1c"]})]}),(0,r.jsxs)("div",{children:["\ud78c\ud2b8 \uac1c\uc218: ",(0,r.jsxs)("strong",{children:[h.hintCount,"\uac1c"]})]}),(0,r.jsxs)("div",{children:["\ud134 \uc2dc\uac04: ",(0,r.jsxs)("strong",{children:[h.timeLimit,"\ucd08"]})]}),(0,r.jsxs)("div",{children:["\ucd5c\ub300 \ud134: ",(0,r.jsx)("strong",{children:h.maxTurns||"\ubb34\uc81c\ud55c"})]})]})]})]}),(0,r.jsxs)("div",{className:"game-start-section",children:[(0,r.jsxs)("div",{className:"countdown-info",children:[(0,r.jsx)("h3",{children:"\ubaa8\ub4e0 \uc900\ube44\uac00 \uc644\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4!"}),(0,r.jsx)("p",{children:"\uac8c\uc784\uc744 \uc2dc\uc791\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?"})]}),(0,r.jsxs)("div",{className:"setup-actions",children:[(0,r.jsx)("button",{className:"btn-large btn-secondary",onClick:()=>s("game-config"),children:"\u2190 \uc124\uc815 \ubcc0\uacbd"}),(0,r.jsx)("button",{className:"btn-large btn-primary",onClick:Y,children:"\uac8c\uc784 \uc2dc\uc791! \ud83c\udfae"})]})]})]})]})})})(),"game"===e&&(()=>{const e=(()=>{if(R.current){const e=R.current.getCurrentPlayer();if(e){const s=e.getInfo();return o.find((e=>e.id===s.id))}}const e=(m.currentTurn-1)%o.length+1;return o.find((s=>s.id===e))})(),n="finished"===m.gameStatus||h.maxTurns&&m.currentTurn>h.maxTurns;if(k){var t;const e=o.find((e=>e.id===T)),s=m.hintsViewed[T];if("built-in-ai"===(null===e||void 0===e?void 0:e.type)){const e=T+1;return e<=o.length?setTimeout((()=>I(e)),0):(A(!1),R.current?R.current.startGame(m.keywords,m.answers,m.playerHints):setTimeout((()=>{g((e=>(0,a.A)((0,a.A)({},e),{},{currentTurn:1}))),Z()}),100)),null}return(0,r.jsx)("div",{className:"game-screen",children:(0,r.jsxs)("div",{className:"hint-viewing-phase",children:[(0,r.jsx)("div",{className:"exit-button-container",children:(0,r.jsx)("button",{className:"btn btn-exit-small",onClick:se,children:"\uac8c\uc784 \uc885\ub8cc"})}),(0,r.jsx)("h2",{children:"\ud78c\ud2b8 \ud655\uc778 \ub2e8\uacc4"}),(0,r.jsxs)("div",{className:"viewing-instructions",children:[(0,r.jsxs)("h3",{children:[null===e||void 0===e?void 0:e.nickname,"\ub2d8\uc758 \ucc28\ub840\uc785\ub2c8\ub2e4"]}),(0,r.jsx)("p",{children:"\ub2e4\ub978 \ud50c\ub808\uc774\uc5b4\ub294 \ud654\uba74\uc744 \ubcf4\uc9c0 \ub9c8\uc138\uc694!"}),s?(0,r.jsxs)("div",{className:"hint-display",children:[(0,r.jsx)("h4",{children:"\ub0b4 \ud78c\ud2b8 (\uc774 \ud0a4\uc6cc\ub4dc\ub4e4\uc740 \uc815\ub2f5\uc774 \uc544\ub2d9\ub2c8\ub2e4)"}),(0,r.jsx)("div",{className:"hint-chips",children:null===(t=m.playerHints[T])||void 0===t?void 0:t.map((e=>(0,r.jsx)("span",{className:"hint-chip",children:m.keywords[e]},e)))}),(0,r.jsx)("p",{children:"\ud78c\ud2b8\ub97c \uae30\uc5b5\ud558\uace0 \ub2e4\uc74c \ubc84\ud2bc\uc744 \ub20c\ub7ec\uc8fc\uc138\uc694."}),(0,r.jsx)("button",{className:"btn-large btn-secondary",onClick:()=>{const e=T+1;e<=o.length?I(e):(A(!1),R.current?R.current.startGame(m.keywords,m.answers,m.playerHints):setTimeout((()=>{g((e=>(0,a.A)((0,a.A)({},e),{},{currentTurn:1}))),Z()}),100))},children:"\ud655\uc778 \uc644\ub8cc"})]}):(0,r.jsxs)("div",{className:"hint-reveal",children:[(0,r.jsx)("p",{children:"\uc544\ub798 \ubc84\ud2bc\uc744 \ub20c\ub7ec \ubcf8\uc778\ub9cc\uc758 \ud78c\ud2b8\ub97c \ud655\uc778\ud558\uc138\uc694."}),(0,r.jsx)("button",{className:"btn-large btn-primary",onClick:()=>g((e=>(0,a.A)((0,a.A)({},e),{},{hintsViewed:(0,a.A)((0,a.A)({},e.hintsViewed),{},{[T]:!0})}))),children:"\ub0b4 \ud78c\ud2b8 \ubcf4\uae30"})]})]})]})})}var i;return n?(0,r.jsx)("div",{className:"game-screen",children:(0,r.jsxs)("div",{className:"game-over",children:[(0,r.jsx)("h2",{children:"\ud83c\udf89 \uac8c\uc784 \uc885\ub8cc!"}),m.winner?(0,r.jsxs)("div",{className:"winner-announcement",children:[(0,r.jsxs)("h3",{children:[null===(i=o.find((e=>e.id===m.winner)))||void 0===i?void 0:i.nickname,"\ub2d8\uc774 \uc2b9\ub9ac\ud588\uc2b5\ub2c8\ub2e4!"]}),(0,r.jsx)("p",{children:"\ucd95\ud558\ud569\ub2c8\ub2e4! \uc815\ub2f5\uc744 \ubaa8\ub450 \ub9de\ucd94\uc168\uc2b5\ub2c8\ub2e4."})]}):(0,r.jsxs)("div",{className:"draw-announcement",children:[(0,r.jsx)("h3",{children:"\ubb34\uc2b9\ubd80"}),(0,r.jsx)("p",{children:"\ucd5c\ub300 \ud134 \uc218\uc5d0 \ub3c4\ub2ec\ud588\uc2b5\ub2c8\ub2e4."})]}),(0,r.jsxs)("div",{className:"final-answers",children:[(0,r.jsx)("h4",{children:"\uc815\ub2f5\uc740:"}),(0,r.jsx)("div",{className:"answer-list",children:m.answers.map((e=>(0,r.jsx)("span",{className:"answer-chip",children:m.keywords[e]},e)))})]}),(0,r.jsxs)("div",{className:"game-history",children:[(0,r.jsx)("h4",{children:"\uac8c\uc784 \uae30\ub85d"}),(0,r.jsx)("div",{className:"history-list",children:m.turnHistory.map(((e,s)=>(0,r.jsxs)("div",{className:"history-item",children:[(0,r.jsxs)("div",{className:"turn-info",children:[(0,r.jsxs)("strong",{children:["\ud134 ",e.turnNumber]})," - ",e.playerName]}),(0,r.jsxs)("div",{className:"turn-keywords",children:["\uc120\ud0dd: ",e.guessKeywords.join(", ")]}),(0,r.jsxs)("div",{className:"turn-result",children:[e.correctCount,"/",h.answerCount," \uc815\ub2f5 (",e.timeUsed,"\ucd08 \uc18c\uc694)"]})]},s)))})]}),(0,r.jsx)("div",{className:"setup-actions",children:(0,r.jsx)("button",{className:"btn-large btn-secondary",onClick:()=>s("mode-selection"),children:"\uc0c8 \uac8c\uc784"})})]})}):(0,r.jsxs)("div",{className:"game-screen game-playing",children:[(0,r.jsxs)("div",{className:"game-header-info",children:[(0,r.jsxs)("div",{className:"turn-info",children:[(0,r.jsxs)("h3",{children:["\ud134 ",m.currentTurn,h.maxTurns&&" / ".concat(h.maxTurns)]}),(0,r.jsxs)("p",{children:[null===e||void 0===e?void 0:e.nickname,"\uc758 \ucc28\ub840",D&&(0,r.jsx)("span",{className:"ai-thinking",children:" (\uc0dd\uac01\ud558\ub294 \uc911...)"})]})]}),(0,r.jsxs)("div",{className:"header-controls",children:[(0,r.jsxs)("div",{className:"timer",children:[(0,r.jsxs)("div",{className:"time-display ".concat(f<=10?"warning":""),children:[f,"\ucd08"]}),(0,r.jsx)("div",{className:"timer-bar",children:(0,r.jsx)("div",{className:"timer-fill",style:{width:"".concat(f/h.timeLimit*100,"%"),backgroundColor:f<=10?"#FF5722":f<=30?"#FFC107":"#4CAF50"}})})]}),(0,r.jsx)("button",{className:"btn btn-exit",onClick:se,title:"\uac8c\uc784 \uc885\ub8cc",children:"\ub098\uac00\uae30"})]})]}),(0,r.jsxs)("div",{className:"game-layout",children:[(0,r.jsxs)("div",{className:"game-main",children:[(0,r.jsxs)("div",{className:"keyword-selection",children:[(0,r.jsxs)("h4",{children:["\ud0a4\uc6cc\ub4dc\ub97c \uc120\ud0dd\ud558\uc138\uc694 (",j.length,"/",h.answerCount,")"]}),(0,r.jsx)("div",{className:"keywords-grid",children:m.keywords.map(((e,s)=>{const n=j.includes(s),t=m.revealedAnswers.includes(s),i=m.revealedWrongAnswers.includes(s);return(0,r.jsxs)("button",{className:"keyword-btn ".concat(n?"selected":""," ").concat(t?"revealed-answer":""," ").concat(i?"revealed-wrong":""),onClick:()=>{return e=s,void w((s=>s.includes(e)?s.filter((s=>s!==e)):s.length<h.answerCount?[...s,e]:s));var e},disabled:H||D||!N,children:[e,t&&(0,r.jsx)("span",{className:"reveal-indicator",children:"\u2713"}),i&&(0,r.jsx)("span",{className:"reveal-indicator",children:"\u274c"})]},s)}))})]}),(0,r.jsxs)("div",{className:"guess-controls",children:[(0,r.jsxs)("div",{className:"selected-display",children:[(0,r.jsx)("h5",{children:"\uc120\ud0dd\ub41c \ud0a4\uc6cc\ub4dc:"}),(0,r.jsx)("div",{className:"selected-keywords",children:j.map((e=>(0,r.jsx)("span",{className:"selected-chip",children:m.keywords[e]},e)))})]}),(0,r.jsxs)("div",{className:"control-buttons",children:[(0,r.jsx)("button",{className:"btn-large btn-secondary",onClick:()=>w([]),disabled:0===j.length,children:"\uc120\ud0dd \ucd08\uae30\ud654"}),(0,r.jsx)("button",{className:"btn-large btn-primary",onClick:re,disabled:j.length!==h.answerCount||H,children:"\ucd94\uce21 \uc81c\ucd9c"})]})]})]}),(0,r.jsxs)("div",{className:"game-sidebar",children:[(0,r.jsxs)("div",{className:"global-hints",children:[(0,r.jsx)("h4",{children:"\uac8c\uc784 \ud78c\ud2b8"}),(0,r.jsxs)("div",{className:"hint-buttons",children:[(0,r.jsx)("button",{className:"btn btn-hint",onClick:ne,disabled:m.answers.length===m.revealedAnswers.length,children:"\uc815\ub2f5 1\uac1c \uacf5\uac1c"}),(0,r.jsx)("button",{className:"btn btn-hint",onClick:te,children:"\uc624\ub2f5 1\uac1c \uacf5\uac1c"})]}),(0,r.jsxs)("div",{className:"revealed-info",children:[m.revealedAnswers.length>0&&(0,r.jsx)("div",{children:(0,r.jsxs)("small",{children:["\uacf5\uac1c\ub41c \uc815\ub2f5: ",m.revealedAnswers.length,"\uac1c"]})}),m.revealedWrongAnswers.length>0&&(0,r.jsx)("div",{children:(0,r.jsxs)("small",{children:["\uacf5\uac1c\ub41c \uc624\ub2f5: ",m.revealedWrongAnswers.length,"\uac1c"]})})]})]}),(0,r.jsxs)("div",{className:"players-status",children:[(0,r.jsx)("h4",{children:"\ud50c\ub808\uc774\uc5b4 \ud604\ud669"}),(0,r.jsx)("div",{className:"players-list",children:o.map((s=>(0,r.jsxs)("div",{className:"player-status ".concat((null===e||void 0===e?void 0:e.id)===s.id?"current":""),children:[(0,r.jsx)("span",{className:"player-name",children:s.nickname}),(0,r.jsxs)("span",{className:"player-type",children:["(","built-in-ai"===s.type?"AI":"custom-ai"===s.type?"Custom AI":"\uc778\uac04",")"]})]},s.id)))})]}),(0,r.jsxs)("div",{className:"turn-history",children:[(0,r.jsx)("h4",{children:"\ud134 \uae30\ub85d"}),(0,r.jsx)("div",{className:"history-scroll",children:m.turnHistory.slice(-5).map(((e,s)=>(0,r.jsxs)("div",{className:"history-entry",children:[(0,r.jsx)("div",{className:"history-header",children:(0,r.jsxs)("span",{children:["\ud134 ",e.turnNumber,": ",e.playerName]})}),(0,r.jsx)("div",{className:"history-keywords",children:e.guessKeywords.join(", ")}),(0,r.jsxs)("div",{className:"history-result",children:[e.correctCount,"/",h.answerCount," \uc815\ub2f5"]})]},s)))})]})]})]})]})})()]}),(()=>{if(!O.isOpen||!O.playerId)return null;const e=o.find((e=>e.id===O.playerId));return e?(0,r.jsx)("div",{className:"modal-overlay",onClick:()=>V({isOpen:!1,playerId:null}),children:(0,r.jsxs)("div",{className:"modal-content code-editor-modal",onClick:e=>e.stopPropagation(),children:[(0,r.jsxs)("div",{className:"modal-header",children:[(0,r.jsxs)("h3",{children:[e.nickname," AI \ucf54\ub4dc \uc5d0\ub514\ud130"]}),(0,r.jsx)("button",{className:"modal-close",onClick:()=>V({isOpen:!1,playerId:null}),children:"\xd7"})]}),(0,r.jsxs)("div",{className:"code-editor-container",children:[(0,r.jsxs)("div",{className:"editor-toolbar",children:[(0,r.jsxs)("div",{className:"editor-left",children:[(0,r.jsx)("span",{className:"editor-info",children:"\ucf54\ub4dc \uc791\uc131"}),(0,r.jsxs)("div",{className:"language-selector",children:[(0,r.jsx)("button",{className:"lang-btn ".concat("javascript"===e.aiLanguage?"active":""),onClick:()=>J(e.id,{aiLanguage:"javascript"}),children:"JavaScript"}),(0,r.jsx)("button",{className:"lang-btn ".concat("typescript"===e.aiLanguage?"active":""),onClick:()=>J(e.id,{aiLanguage:"typescript"}),children:"TypeScript"})]})]}),(0,r.jsxs)("div",{className:"editor-actions",children:[(0,r.jsx)("button",{className:"btn btn-small",onClick:()=>J(e.id,{aiCode:""}),children:"\ucd08\uae30\ud654"}),(0,r.jsx)("button",{className:"btn btn-small",onClick:()=>{const s="typescript"===e.aiLanguage?"// AI \uc804\ub7b5 \ud568\uc218 (TypeScript)\ninterface GameState {\n  keywords: string[];\n  myHints: number[];\n  previousGuesses: number[][];\n  revealedAnswers: number[];\n  revealedWrongs: number[];\n  answerCount: number;\n}\n\nfunction makeGuess(gameState: GameState): number[] {\n  const { keywords, myHints, previousGuesses, revealedAnswers, revealedWrongs, answerCount } = gameState;\n  \n  // \uac00\ub2a5\ud55c \ud0a4\uc6cc\ub4dc \uc778\ub371\uc2a4 \ubaa9\ub85d\n  const availableIndices: number[] = keywords\n    .map((_, index) => index)\n    .filter(idx => !revealedWrongs.includes(idx));\n  \n  // \uc774\ubbf8 \uacf5\uac1c\ub41c \uc815\ub2f5 \uc6b0\uc120 \uc120\ud0dd\n  const selectedIndices: number[] = [...revealedAnswers];\n  \n  // \ub098\uba38\uc9c0\ub294 \ub79c\ub364 \uc120\ud0dd\n  while (selectedIndices.length < answerCount) {\n    const remaining = availableIndices.filter(idx => !selectedIndices.includes(idx));\n    if (remaining.length === 0) break;\n    \n    const randomIdx = remaining[Math.floor(Math.random() * remaining.length)];\n    selectedIndices.push(randomIdx);\n  }\n  \n  return selectedIndices;\n}":"// AI \uc804\ub7b5 \ud568\uc218 (JavaScript)\nfunction makeGuess(gameState) {\n  const { keywords, myHints, previousGuesses, revealedAnswers, revealedWrongs, answerCount } = gameState;\n  \n  // \uac00\ub2a5\ud55c \ud0a4\uc6cc\ub4dc \uc778\ub371\uc2a4 \ubaa9\ub85d\n  const availableIndices = keywords\n    .map((_, index) => index)\n    .filter(idx => !revealedWrongs.includes(idx));\n  \n  // \uc774\ubbf8 \uacf5\uac1c\ub41c \uc815\ub2f5 \uc6b0\uc120 \uc120\ud0dd\n  const selectedIndices = [...revealedAnswers];\n  \n  // \ub098\uba38\uc9c0\ub294 \ub79c\ub364 \uc120\ud0dd\n  while (selectedIndices.length < answerCount) {\n    const remaining = availableIndices.filter(idx => !selectedIndices.includes(idx));\n    if (remaining.length === 0) break;\n    \n    const randomIdx = remaining[Math.floor(Math.random() * remaining.length)];\n    selectedIndices.push(randomIdx);\n  }\n  \n  return selectedIndices;\n}";J(e.id,{aiCode:s})},children:"\uc608\uc81c \ucf54\ub4dc"})]})]}),(0,r.jsxs)("div",{className:"editor-wrapper",children:[(0,r.jsx)("div",{className:"line-numbers",children:((e.aiCode||"")+"\n").split("\n").map(((e,s)=>(0,r.jsx)("div",{className:"line-number",children:s+1},s)))}),(0,r.jsx)("textarea",{className:"code-editor",value:e.aiCode||"",onChange:s=>J(e.id,{aiCode:s.target.value}),placeholder:"typescript"===e.aiLanguage?"// TypeScript AI \uc804\ub7b5 \ucf54\ub4dc\ub97c \uc791\uc131\ud558\uc138\uc694\n// \ud0c0\uc785 \uc815\uc758\uc640 \ud568\uaed8 \uc791\uc131\ud574\uc8fc\uc138\uc694":"// JavaScript AI \uc804\ub7b5 \ucf54\ub4dc\ub97c \uc791\uc131\ud558\uc138\uc694\n// function makeGuess(gameState) { ... }",spellCheck:!1})]}),(0,r.jsxs)("div",{className:"editor-footer",children:[(0,r.jsxs)("div",{className:"code-stats",children:[(0,r.jsxs)("span",{children:["\uc904: ",(e.aiCode||"").split("\n").length]}),(0,r.jsxs)("span",{children:["\ubb38\uc790: ",(e.aiCode||"").length]})]}),(0,r.jsx)("button",{className:"btn-large btn-primary",onClick:()=>V({isOpen:!1,playerId:null}),children:"\uc800\uc7a5"})]})]})]})}):null})()]})})},v=()=>{const{subject:e}=(0,t.g)();console.log(e);return(0,r.jsx)("div",{className:"lab-page",children:(0,r.jsx)("main",{className:"lab-content",children:(()=>{switch(e){case"tetris":return(0,r.jsx)(i,{});case"deduction-game":return(0,r.jsx)(p,{});default:return(0,r.jsx)("h1",{className:"lab-title",children:"\uc900\ube44\uc911..."})}})()})})}},934:()=>{}}]);
//# sourceMappingURL=127.3c8c3fc6.chunk.js.map